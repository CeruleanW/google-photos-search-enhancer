(this["webpackJsonpgoogle-photos-search-enhancer"]=this["webpackJsonpgoogle-photos-search-enhancer"]||[]).push([[0],{63:function(e){e.exports=JSON.parse('{"a":{"client_id":"1021859068960-64oa03fggpfb22tau6tatqir94ft44vt.apps.googleusercontent.com","project_id":"search-chinese-1595873063241","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs"}}')},84:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(12),c=n.n(o),i=(n(84),n(8)),l=r.a.createContext(),s=r.a.createContext();function u(){return Object(a.useContext)(l)}function d(){return Object(a.useContext)(s)}function m(e){var t=e.children,n=Object(a.useState)(""),o=Object(i.a)(n,2),c=o[0],u=o[1],d=Object(a.useState)(!1),m=Object(i.a)(d,2),p=m[0],h=m[1];return r.a.createElement(l.Provider,{value:{accessToken:c,isLogined:p}},r.a.createElement(s.Provider,{value:{handleAccessToken:function(e){u(e)},handleIsLogined:function(e){h(e)}}},t))}var p=n(145),h=r.a.createContext(),g=r.a.createContext();function f(){return Object(a.useContext)(h)}function b(){return Object(a.useContext)(g)}function v(e){var t=e.children,n=Object(a.useState)(!1),o=Object(i.a)(n,2),c=o[0],l=o[1],s=Object(a.useState)(""),u=Object(i.a)(s,2),d=u[0],m=u[1],p=Object(a.useState)(!1),f=Object(i.a)(p,2),b=f[0],v=f[1],E=Object(a.useState)(!1),y=Object(i.a)(E,2),w=y[0],O=y[1];return r.a.createElement(h.Provider,{value:{isBackdropOpened:c,textMessage:d,isSearching:b,isNoMatch:w}},r.a.createElement(g.Provider,{value:{handleBackdrop:function(e){l(e)},handleTextMessage:function(e){m(e)},handleIsSearching:function(e){v(e)},handleIsNoMatch:function(e){O(e)}}},t))}var E=n(60),y=n(128),w=n(40),O=n(127),j=Object(O.a)({footerLink:{"&:visited":{color:"blueviolet"}}});function k(){var e=j();return r.a.createElement(E.a,{bottomThreshold:50,normalStyles:{backgroundColor:"#1b2024",padding:"1rem",color:"rgb(192 192 192)",font:"300 0.9rem 'Lora', serif"},stickyStyles:{backgroundColor:"rgba(255,255,255,.8)",padding:"1rem",font:"300 1rem 'Lora', serif"}},r.a.createElement(y.a,null,r.a.createElement(w.a,{align:"center"}," ","Copyright \xa9 2020 Developed with \u2764\ufe0f by",r.a.createElement("a",{className:e.footerLink,href:"https://github.com/CeruleanW"}," ","Yi Yang"))))}var x=r.a.createContext(),S=r.a.createContext();function C(){return Object(a.useContext)(x)}function I(){return Object(a.useContext)(S)}function T(e){var t=e.children,n=Object(a.useState)([]),o=Object(i.a)(n,2),c=o[0],l=o[1],s=Object(a.useState)([]),u=Object(i.a)(s,2),d=u[0],m=u[1];return r.a.createElement(x.Provider,{value:{photoUrls:c,searchedIds:d}},r.a.createElement(S.Provider,{value:{handlePhotoUrls:function(e){l(e)},handleSearchedIds:function(e){m(e)}}},t))}var N=n(5),L=n(14),P=n(20),U=n(62),D=n.n(U),B=n(129),M=Object(O.a)((function(e){var t;return{menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},title:(t={},Object(N.a)(t,e.breakpoints.down("xs"),{fontSize:"1rem"}),Object(N.a)(t,e.breakpoints.up("lg"),{fontSize:"1.2rem"}),t)}}));function A(e){var t=e.setIsDrawerOpen,n=e.clsx,a=e.isDrawerOpen,o=M();return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{color:"inherit","aria-label":"open drawer",onClick:function(){return t(!0)},edge:"start",className:n(o.menuButton,a&&o.hide)},r.a.createElement(D.a,null)),r.a.createElement(w.a,{variant:"h6",className:o.title},"Google Photos Search Enhancer"))}var F=n(138),W=n(65),G=n.n(W),_=n(66),R=n.n(_),z=n(132),H=n(150),q=n(50),J=n(63),Y=n(13),V=n.n(Y),K=n(21),$=n(68),Q=n(51),X=function(){var e=Object($.a)("db",1,{upgrade:function(e){e.createObjectStore("localMediaItems",{keyPath:"id",autoIncrement:!0})}});return Z(),e}();function Z(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?localStorage.setItem("updateTime",new Date):localStorage.setItem("updateTime","")}function ee(){return localStorage.getItem("updateTime")}function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(K.a)(V.a.mark((function e(t){var n,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X;case 2:n=e.sent,a=n.transaction("localMediaItems","readwrite"),t.forEach((function(e){return new Promise((function(t,n){t(a.store.put(e))})).catch((function(e){console.log("Error: failed to store data in IndexedDB"+e)}))}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){return(ae=Object(K.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X;case 2:return t=e.sent,e.abrupt("return",t.clear("localMediaItems"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=Object(K.a)(V.a.mark((function e(t){var n,a,r,o,c,i,l;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Keyword:"+t),n=performance.now(),e.next=4,X;case 4:return a=e.sent,e.next=7,a.getAll("localMediaItems");case 7:return r=e.sent,o={includeScore:!0,keys:["filename","description"]},c=new Q.a(r,o),i=c.search(t),l=performance.now(),console.log("search function took ".concat(l-n," milliseconds.")),e.abrupt("return",i);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe=(new AbortController).signal,ce=function(e){var t={};return Object.assign(t,{"Content-Type":"application/json"}),Object.assign(t,{Authorization:"Bearer ".concat(e)}),{headers:t,mode:"cors",signal:oe}},ie=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{includeArchivedMedia:!0},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,o=ce(e),c={filters:a,pageSize:r};return t&&Object.assign(c,{pageToken:t}),c=JSON.stringify(c),Object.assign(o,{method:n,mode:"cors",body:c}),o},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://photoslibrary.googleapis.com/v1/mediaItems",t=arguments.length>1?arguments[1]:void 0,n=e;return t&&(n+="?"+ue(t)),n},se=function(e,t){return"".concat(e,"?access_token=").concat(t)},ue=function(e){return Object.keys(e).map((function(t){return t+"="+e[t]})).join("&")};function de(e){return me.apply(this,arguments)}function me(){return(me=Object(K.a)(V.a.mark((function e(t){var n,a,r,o,c,i=arguments;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"https://photoslibrary.googleapis.com/v1/mediaItems:search",a=i.length>2&&void 0!==i[2]?i[2]:"POST",e.prev=2,e.next=5,pe(t,!1,n,a);case 5:o=e.sent;case 6:return(c=be(o))&&te(c),r=o.nextPageToken,e.next=11,pe(t,r,n,a);case 11:o=e.sent;case 12:if(r){e.next=6;break}case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.log(e.t0.name+": "+e.t0.message);case 18:return Z(new Date),e.abrupt("return",ee());case 20:case"end":return e.stop()}}),e,null,[[2,15]])})))).apply(this,arguments)}function pe(e){return he.apply(this,arguments)}function he(){return(he=Object(K.a)(V.a.mark((function e(t){var n,a,r,o,c,i,l=arguments;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:"",a=l.length>2&&void 0!==l[2]?l[2]:"https://photoslibrary.googleapis.com/v1/mediaItems:search",r=l.length>3&&void 0!==l[3]?l[3]:"POST",o=le(a,{access_token:t}),c=ie(t,n,r),i=fetch(o,c).then((function(e){return e.json()})).catch((function(e){return console.error(e)})),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(){return(ge=Object(K.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(new Date),e.abrupt("return",ee());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(){return(fe=Object(K.a)(V.a.mark((function e(t,n){var a,r,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.map((function(e){return"https://photoslibrary.googleapis.com/v1/mediaItems/".concat(e)})),r=a.map((function(e){return se(e,n)})),o=r.map((function(e){return fetch(e).then((function(e){return e.json()}))})),e.next=5,Promise.all(o).then((function(e){return e.map((function(e){return{baseUrl:e.baseUrl,productUrl:e.productUrl}}))}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e){return e.mediaItems?e.mediaItems.map((function(e){return{id:e.id,productUrl:e.productUrl,filename:e.filename,description:e.description}})):null}var ve=n(130),Ee={clientID:J.a.client_id,projectId:"search-chinese-1595873063241",authUri:"https://accounts.google.com/o/oauth2/auth",tokenUri:"https://oauth2.googleapis.com/token",scopes:["https://www.googleapis.com/auth/photoslibrary","https://www.googleapis.com/auth/photoslibrary.readonly"]};function ye(e){var t=d().handleAccessToken,n=b().handleBackdrop,a=b().handleTextMessage,o=d().handleIsLogined,c=u().isLogined,i=function(t){console.log("handleRequest is called");window.gapi.auth2.getAuthInstance();ee()?function(){return ge.apply(this,arguments)}().then((function(){e.onSetLastUpdateTime()})).finally((function(){n(!1),a("")})):(a("Initializing Local Data Storage. This may take long time depends the quantity of media items in your library"),n(!0),de(t).then((function(t){e.onSetLastUpdateTime()})).finally((function(){n(!1),a("")})))};return r.a.createElement(r.a.Fragment,null,c?r.a.createElement(q.GoogleLogout,{clientId:Ee.clientID,onLogoutSuccess:function(){o(!1),t("")},buttonText:"Logout",onFailure:function(e){alert("Failed to log out")},render:function(e){return r.a.createElement(ve.a,{variant:"contained",onClick:e.onClick,disabled:e.disabled},"Logout")},cookiePolicy:"single_host_origin"}):r.a.createElement(q.GoogleLogin,{clientId:Ee.clientID,onSuccess:function(e){e.accessToken&&(o(!0),t(e.accessToken),i(e.accessToken))},onFailure:function(e){alert("Failed to log in")},cookiePolicy:"single_host_origin",responseType:"code,token",scope:Ee.scopes[1],isSignedIn:!0,render:function(e){return r.a.createElement(ve.a,{variant:"contained",onClick:e.onClick,disabled:e.disabled},"Login")}}))}var we=n(140),Oe=n(151),je=n(141),ke=n(64),xe=n.n(ke),Se=n(148),Ce=n(11),Ie=n(131),Te=Object(O.a)((function(e){return{search:Object(N.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Ce.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Ce.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0},e.breakpoints.up("md"),{marginBottom:e.spacing(0),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",marginRight:e.spacing(2)},inputInput:Object(N.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width")},e.breakpoints.up("md"),{width:"20ch"})}}));function Ne(){var e=Te(),t=u().accessToken,n=u().isLogined,o=I().handlePhotoUrls,c=b().handleIsSearching,l=I().handleSearchedIds,s=b().handleIsNoMatch,d=Object(a.useState)(""),m=Object(i.a)(d,2),p=m[0],h=m[1],g=function(){var e=performance.now();if(console.log("Search start: ".concat(e," milliseconds")),!p)return!1;c(!0),l([]),function(e){return re.apply(this,arguments)}(p).then((function(e){var n=e.map((function(e){return e.item.id}));if(l(n),!n.length)return s(!0),"No result";c(!1),function(e,t){return fe.apply(this,arguments)}(n,t).then((function(e){console.log(e),o(e)}))})).catch((function(e){return console.log("Error: "+e)})).finally((function(){return c(!1)}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie.a,{className:e.search,item:!0,xs:9},r.a.createElement("div",{className:e.searchIcon},r.a.createElement(xe.a,null)),r.a.createElement(Se.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){h(e.target.value)},onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),g())},autoFocus:!0})),r.a.createElement(Ie.a,{item:!0},r.a.createElement(ve.a,{variant:"contained",onClick:g,disabled:!n},"Search")))}var Le=n(139),Pe=n(137),Ue=n(146),De=n(149),Be=n(3),Me=n(24),Ae=n(147),Fe=n(96),We=Object(O.a)((function(e){return{root:Object(N.a)({margin:"auto",marginTop:e.spacing(15),padding:e.spacing(2),maxWidth:"90%",backgroundColor:"white"},e.breakpoints.up("lg"),{maxWidth:"70%"}),title:{padding:e.spacing(1)},firstPara:{marginTop:e.spacing(2),padding:e.spacing(1)},body:{padding:e.spacing(1)},footNote:{marginTop:e.spacing(1)}}}));function Ge(e){var t=We(),n=function(e){return r.a.createElement(w.a,{color:"textSecondary",className:t.body+" "+e.className,align:e.align},e.children)};return r.a.createElement(Fe.a,{open:e.open,onClose:e.onClose},r.a.createElement(y.a,{className:t.root},r.a.createElement(Ue.a,null,r.a.createElement(w.a,{color:"textPrimary",variant:"h4",className:t.title},"Google Photos Search Enhancer"),r.a.createElement(z.a,null),r.a.createElement(Ue.a,null,r.a.createElement(w.a,{color:"textSecondary",className:t.firstPara},"This app will help you to search through the descriptions and filenames in your Google Photos Library. Click the 'LOGIN' button to start!"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(n,null,r.a.createElement("strong",null,"Data:")," All data in this application are stored locally. None of them would be uploaded to any server.")),r.a.createElement("li",null,r.a.createElement(n,null,r.a.createElement("strong",null,"Update:")," Please click the 'Update' button to get the latest change in your Google Photos Library.")),r.a.createElement("li",null,r.a.createElement(n,null,r.a.createElement("strong",null,"Edit:")," Click the photo in the search result, then you can edit it in your Google Photos")))),r.a.createElement(z.a,null),r.a.createElement(n,{align:"right",className:t.footNote},"For further help, please send email to yangyi621#outlook.com (replace # by @)"))))}var _e=n(133),Re=n(134),ze=n(135),He=n(136);function qe(e){var t=function(t){return function(){e.onAgreed(t),e.onClose()}};return r.a.createElement(_e.a,{open:e.open,onClose:t(!1),"aria-describedby":"alert-dialog-description"},r.a.createElement(Re.a,null,r.a.createElement(ze.a,{id:"alert-dialog-description"},e.children)),r.a.createElement(He.a,null,r.a.createElement(ve.a,{onClick:t(!1),color:"primary"},"Cancel"),r.a.createElement(ve.a,{onClick:t(!0),color:"primary",autoFocus:!0},"Confirm")))}function Je(){var e,t=240,n=Object(O.a)((function(e){return{appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(t,"px)"),marginLeft:t,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},drawer:{width:t,flexShrink:0},drawerPaper:{width:t},drawerHeader:Object(P.a)(Object(P.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(2)},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},offset:e.mixins.toolbar}}))(),o=Object(Me.a)();e=Object(Pe.a)(o.breakpoints.up("md"))?"flex-end":"center";var c=u().accessToken,l=u().isLogined,s=b(),d=Object(a.useState)(!1),m=Object(i.a)(d,2),p=m[0],h=m[1],g=Object(a.useState)(""),f=Object(i.a)(g,2),v=f[0],E=f[1],y=Object(a.useState)(!1),j=Object(i.a)(y,2),k=j[0],x=j[1],S=Object(a.useState)([]),C=Object(i.a)(S,2),I=C[0],T=C[1],U=Object(a.useState)(""),D=Object(i.a)(U,2),M=D[0],W=D[1],_=Object(a.useState)(void 0),q=Object(i.a)(_,2),J=q[0],Y=q[1],V=Object(a.useState)(!1),K=Object(i.a)(V,2),$=K[0],Q=K[1],X=Object(a.useState)(!1),te=Object(i.a)(X,2),ne=te[0],re=te[1],oe=Object(a.useState)(void 0),ce=Object(i.a)(oe,2),ie=ce[0],le=ce[1];r.a.useEffect((function(){I.length?(W(I[0].message),Y(I[0].severity),T((function(e){return e.slice(1)})),x(!0)):I.length&&M&&k&&x(!1)}),[I,M,k]),r.a.useEffect((function(){!0===ie&&(s.handleBackdrop(!0),s.handleTextMessage("Updating local data... Please wait for a while"),de(c).then((function(e){console.log("Update completed!"),ue("success","Update completed!"),E(ee())})).finally((function(){s.handleBackdrop(!1),s.handleTextMessage("")})),le(void 0))}),[ie,c,s]),r.a.useEffect((function(){(localStorage.noFirstVisit?localStorage.noFirstVisit:(console.log("first time"),localStorage.noFirstVisit="1",0))||Q(!0)}),[]);var se=function(){x(!1)},ue=function(e,t){var n=e||"info",a=t||"Don't panic";T((function(e){return[].concat(Object(L.a)(e),[{severity:n,message:a,key:(new Date).getTime()}])}))};return r.a.createElement("div",null,r.a.createElement(F.a,{position:"sticky",className:Object(Be.a)(n.appBar,Object(N.a)({},n.appBarShift,p))},r.a.createElement(Le.a,null,r.a.createElement(Ie.a,{container:!0,alignItems:"center",justify:"flex-start",spacing:1},r.a.createElement(Ie.a,{container:!0,item:!0,justify:"flex-start",alignItems:"center",lg:4,md:5,xs:12},r.a.createElement(A,{setIsDrawerOpen:h,clsx:Be.a,isDrawerOpen:p})),r.a.createElement(Ie.a,{container:!0,item:!0,alignItems:"center",justify:"flex-start",lg:5,md:6,xs:12},r.a.createElement(Ne,null)),r.a.createElement(Ie.a,{container:!0,item:!0,alignItems:"center",justify:e,xs:12,md:1,lg:3},r.a.createElement(ye,{onSetLastUpdateTime:function(){return E(ee())},lastUpdateTime:v}))))),r.a.createElement(H.a,{className:n.drawer,variant:"persistent",anchor:"left",open:p,classes:{paper:n.drawerPaper}},r.a.createElement("div",{className:n.drawerHeader},r.a.createElement(B.a,{onClick:function(){return h(!1)}},"ltr"===o.direction?r.a.createElement(G.a,null):r.a.createElement(R.a,null))),r.a.createElement(z.a,null),r.a.createElement(we.a,null,r.a.createElement(Oe.a,{button:!0,onClick:function(){return re(!0)},disabled:!l},r.a.createElement(je.a,{primary:"Update data"})),r.a.createElement(Oe.a,{button:!0,onClick:function(){(function(){return ae.apply(this,arguments)})().then((function(){return ue("success","Clear completed!")})),Z(""),E(ee())},disabled:!v},r.a.createElement(je.a,{primary:"Clear data"})),r.a.createElement(Oe.a,{button:!0,onClick:function(){return Q(!0)},disabled:$},r.a.createElement(je.a,{primary:"Help"}))),r.a.createElement(z.a,null),r.a.createElement(w.a,{variant:"subtitle1",display:"block",gutterBottom:!0,className:n.content,color:"textSecondary"},r.a.createElement(Ue.a,null,"Last Update:"),v?function(e){var t=new Date(e),n=function(e){e.length<2&&(e="0"+e)},a=""+(t.getMonth()+1),r=""+t.getDate(),o=t.getFullYear(),c=""+t.getHours(),i=""+t.getMinutes(),l=""+t.getSeconds();return n(a),n(r),n(c),n(i),n(l),"".concat(o,"-").concat(a,"-").concat(r," ").concat(c,":").concat(i,":").concat(l)}(v):"No data")),r.a.createElement(De.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:k,onClose:se,autoHideDuration:3e3},r.a.createElement(Ae.a,{onClose:se,severity:J,elevation:6,variant:"filled"},M)),r.a.createElement(Ge,{open:$,onClose:function(){Q(!1)}}),r.a.createElement(qe,{open:ne,onClose:function(){return re(!1)},onAgreed:function(e){return le(e)}},r.a.createElement(w.a,{color:"textPrimary"},"Depending on the quantity of items in your Google Photos Library, the updating time could be up to a few minutes. Are you sure to update?")))}var Ye=n(67),Ve=n.n(Ye),Ke=n(142),$e=Object(O.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",overflow:"hidden",marginTop:"10px",marginLeft:"10px"},gridListTile:{maxWidth:480,maxHeight:360},image:{maxWidth:"100%","&:hover":{opacity:.5}},masonryGrid:{display:"flex",marginLeft:"-30px",width:"100%"},masonryGridColumn:{paddingLeft:"20px",backgroundClip:"padding-box","& > div":{marginBottom:"30px"}}}}));function Qe(e){var t=$e(),n=Object(a.useState)(!0),o=Object(i.a)(n,2),c=o[0],l=o[1],s=C().photoUrls;Object(a.useEffect)((function(){var e=setTimeout((function(){l(!1)}),1200);return function(){return clearTimeout(e)}}),[]);return r.a.createElement("div",{className:t.root},c?r.a.createElement(Ie.a,{container:!0,spacing:1},e.ids.map((function(e){return r.a.createElement(Ie.a,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,key:e},r.a.createElement(Ke.a,{variant:"rect",height:300}))}))):r.a.createElement(Ve.a,{breakpointCols:{default:6,1920:4,1280:3,960:2,600:1},className:t.masonryGrid,columnClassName:t.masonryGridColumn},e.ids.map((function(e,n){return r.a.createElement("img",{key:e,src:"".concat(s[n].baseUrl,"=w640-h640"),alt:"Google Photos",className:t.image,onClick:function(){return e=s[n].productUrl,void window.open(e);var e}})}))))}var Xe=n(94),Ze=n(143),et=Object(O.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},leftPadding:{paddingLeft:"15px"}}}));function tt(){var e=et(),t=f().isBackdropOpened,n=f().textMessage;return r.a.createElement(Xe.a,{className:e.backdrop,open:t},r.a.createElement(Ze.a,{color:"inherit"}),r.a.createElement(w.a,{className:e.leftPadding},n))}var nt=n(144),at=n.p+"static/media/icons8-search-500.ff17960a.png",rt=Object(O.a)((function(e){return{root:{marginTop:"15px"}}}));function ot(){var e=rt(),t=f().isNoMatch,n=b().handleIsNoMatch,a=function(e,t){n(!1)};function o(e){return r.a.createElement(Ae.a,Object.assign({elevation:6,variant:"filled",onClick:a},e),"Not Found")}return r.a.createElement("div",null,r.a.createElement(De.a,{anchorOrigin:{vertical:"center",horizontal:"center"},open:t,autoHideDuration:5e3,onClose:a,className:e.root},r.a.createElement(o,{severity:"warning"})))}var ct=Object(O.a)((function(e){return{main:{minHeight:"94vh"},centerText:{color:"#2d72bc",textDecoration:"none",fontWeight:"800",fontFamily:"Nunito, Helvetica, Arial, sans-serif",fontSize:"2em"},centerLayout:{position:"absolute",top:"50%",transform:"translateY(-50%)",width:"100%",display:"flex",alignItems:"center",justifyContent:"space-around"},image:Object(N.a)({maxWidth:"500px",maxHeight:"500px",width:"40%"},e.breakpoints.up("md"),{width:"20%"})}})),it=function(e){var t=ct();return r.a.createElement("div",{className:t.centerText+" "+t.centerLayout},r.a.createElement("img",{src:at,alt:"search-icon",className:t.image}))};function lt(){var e=ct(),t=f().isSearching,n=C().searchedIds;return r.a.createElement(Ue.a,{className:e.main},r.a.createElement(Je,null),n&&n.length?r.a.createElement(Qe,{ids:n}):r.a.createElement(it,null),r.a.createElement(ot,null),r.a.createElement(tt,null),t?r.a.createElement(nt.a,null):null)}function st(){return r.a.createElement(m,null,r.a.createElement(T,null,r.a.createElement(v,null,r.a.createElement(p.a,null),r.a.createElement(lt,null),r.a.createElement(k,null))))}var ut=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function dt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(st,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/google-photos-search-enhancer",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/google-photos-search-enhancer","/service-worker.js");ut?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):dt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):dt(t,e)}))}}()}},[[91,1,2]]]);
//# sourceMappingURL=main.02052cad.chunk.js.map